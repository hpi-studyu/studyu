image: cirrusci/flutter:beta

stages:
  - build
  - analyze
  - test

build:
  stage: build
  script:
    - flutter pub get
    - flutter pub run build_runner build
    - flutter build aot
  tags:
    - app
    - android

unit_test:
  stage: test
  script:
    - flutter pub get
    - flutter pub run build_runner test
  tags:
    - app
    - android
    
analyze:
  stage: analyze
  script:
    - flutter pub run build_runner build
    - flutter analyze
  tags:
    - app
    - android